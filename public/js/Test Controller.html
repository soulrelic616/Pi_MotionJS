<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Test Controller</title>
    <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>-->
    <!--<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>-->
    <!--<script src="/socket.io/socket.io.js"></script>
    <script src="js/jquery.min.js"></script>-->
    <!--<script src="js/socket.io-1.4.5.js"></script>-->
    <script src="//localhost:3700/js/socket.io-1.4.5.js"></script>
    <script src="js/jquery.min.js"></script>
</head>
<style>
    body {
        background-color: #555555;
        color: #fff;
        font-family: Arial, Helvetica, sans-serif;
    }
    #status {
        margin-top: 50px;
        text-align: center;
        font-size: 150px;
    }
    .event {
        width: 300px;
        height: 50px;
        border-radius: 30px;
        border: 0px;
        text-transform: uppercase;
        font-size: 15px;
        cursor: pointer;
        background:#000;
        padding:50px 0;
    }
</style>
    
<body>

    <div align="center">


        <div class="event">fire event</div>

        <p>Event is OFF</p>
        
        
    </div>

    <script>
        /*//var socket = require('socket.io-client')('http://xxxxxxxxxxxxxx');
        var socket = require('socket.io-client')('/');
        socket.emit('pirstatus', false);
        var gpio = require("gpio");
        var gpio7 = gpio.export(7, {
            direction: "in",
            ready: function() {
                console.log('ready');
            }
        });
        gpio7.on("change", function(val) {
            console.log(val)
            if (val == 0) {
                socket.emit('pirstatus', false);
            } else {
                socket.emit('pirstatus', true);
            }
        });*/

$(document).ready(function() {

    var socket = io.connect('/');
    socket.emit('pirstatus', false);
    
    /*$('div.event').mouseenter(function(){
        $('p').text('Event is ON');
        socket.emit('pirstatus', true);
    });
    
    $('div.event').mouseleave(function(){
        $('p').text('Event is OFF');
        socket.emit('pirstatus', false);
    });*/
    socket.on('connect', function(){
        console.log('Connection successful');
    });
    
});

    </script>

</body>

</html>